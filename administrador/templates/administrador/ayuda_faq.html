{% extends 'administrador/base_dashboard.html' %}
{% load static %}

{% block title %}{{ titulo }} | Digit Soft{% endblock %}

{% block content %}
<div class="content-wrapper">
    <div class="page-header">
        <h1><i class="fas fa-question-circle"></i> {{ titulo }}</h1>
        <p class="page-description">Preguntas frecuentes sobre el uso del sistema</p>
    </div>

    <div class="faq-container">
        {% for categoria_faq in faqs %}
        <div class="faq-category">
            <h2><i class="fas fa-folder-open"></i> {{ categoria_faq.categoria }}</h2>

            <div class="faq-items">
                {% for item in categoria_faq.preguntas %}
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <i class="fas fa-chevron-right"></i>
                        <span>{{ item.pregunta }}</span>
                    </div>
                    <div class="faq-answer">
                        <p>{{ item.respuesta }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Contacto de soporte -->
    <div class="support-box">
        <i class="fas fa-headset"></i>
        <div>
            <h3>¿Necesitas más ayuda?</h3>
            <p>Si no encuentras la respuesta que buscas, contáctanos:</p>
            <ul>
                <li><i class="fas fa-envelope"></i> soporte@digitsoft.com</li>
                <li><i class="fas fa-phone"></i> +57 (123) 456-7890</li>
                <li><i class="fas fa-clock"></i> Lunes a Viernes: 8:00 AM - 6:00 PM</li>
            </ul>
        </div>
    </div>
</div>

<style>
.content-wrapper {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.page-header {
    margin-bottom: 2rem;
}

.page-header h1 {
    font-size: 2rem;
    color: #2d3748;
    margin-bottom: 0.5rem;
}

.page-description {
    color: #718096;
    font-size: 1rem;
}

.faq-container {
    margin-bottom: 2rem;
}

.faq-category {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.faq-category h2 {
    color: #2d3748;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e2e8f0;
}

.faq-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.faq-item {
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.faq-item:hover {
    border-color: #667eea;
}

.faq-question {
    padding: 1.25rem;
    background: #f7fafc;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 1rem;
    font-weight: 600;
    color: #2d3748;
    transition: all 0.3s ease;
}

.faq-question:hover {
    background: #edf2f7;
}

.faq-question i {
    color: #667eea;
    transition: transform 0.3s ease;
    font-size: 0.875rem;
}

.faq-item.active .faq-question i {
    transform: rotate(90deg);
}

.faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.faq-item.active .faq-answer {
    max-height: 500px;
}

.faq-answer p {
    padding: 1.25rem;
    margin: 0;
    color: #4a5568;
    line-height: 1.7;
    background: white;
}

.support-box {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem;
    border-radius: 12px;
    display: flex;
    gap: 1.5rem;
    align-items: start;
}

.support-box i.fa-headset {
    font-size: 3rem;
    flex-shrink: 0;
}

.support-box h3 {
    margin: 0 0 1rem 0;
    font-size: 1.5rem;
}

.support-box p {
    margin: 0 0 1rem 0;
    opacity: 0.9;
}

.support-box ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.support-box li {
    padding: 0.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.support-box li i {
    width: 20px;
}
</style>

<script>
function toggleFaq(element) {
    const faqItem = element.parentElement;
    const wasActive = faqItem.classList.contains('active');

    // Cerrar todos los FAQs
    document.querySelectorAll('.faq-item').forEach(item => {
        item.classList.remove('active');
    });

    // Abrir el clickeado si no estaba activo
    if (!wasActive) {
        faqItem.classList.add('active');
    }
}
</script>
{% endblock %}

